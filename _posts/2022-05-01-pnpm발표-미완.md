회사 발표를 위한 pnpm 발표에 관한 정리글 = 미완

# pnpm

오늘날 node.js의 패키지 매니저의 대표주자로는 npm과 yarn이 있을 것입니다. 10년에 나온 npm과 16년에 나온 yarn은 시간이 많이 지났음에도 불구하고 대부분의 프로젝트에서 사용되고 있습니다. 하지만 이들이 가지고 있는 문제들을 해결하기 위해 pnpm,yarn berry이 출시되었으며 해당 글에서는 pnpm에 대해 알아보겠습니다.

## Package Manager

들어가기에 앞서 package manager에 대해 알아보겠습니다.
팩키지 매니저는 개발자가 프로젝트 진행 중 패키지의 설치, 구성, 업그레이드, 자동화 등에 사용하는 일종의 도구입니다.

> What does Package Manager do for us?
> 1 프로젝트에 맞는 패키지들을 찾고 설치해줍니다.
> 2 패키지에 문제점이 있는 지 알려줍니다.
> 3 패키지를 설치할 수 있습니다.
> 4 특정 위치에 설치할 수도 있습니다.
> 5 원하는 버전 혹은 새로운 버전으로 패키지를 업데이트할 수 있습니다.
> 6 삭제 또한 가능합니다.

만약, 패키지 매니저가 없었더라면 이러한 작업을 직접 수행했어야 할 것입니다.

## NPM YARN

그럼 이렇게 좋은 npm과 yarn에는 어떠한 문제점이 있었을까요?
바로 **의존성**에 대한 문제가 따라왔었습니다.

### Dependency

우리의 모든 프로젝트를 보면 package.json이라는 파일이 존재하며 그 안에는 Dependency라는 key값이 존재합니다. 여기서 dependency를 무엇일까요? 프로젝트를 진행하면서 필요한 라이브러리, 프레임워크, 즉, 프로젝트를 구동시키기 위한 패키지들인 것입니다. 그럼 npm, yarn에서 언급되는 dependency는 무엇이고 왜 필요할까요?

하나의 패키지는 다른 패키지들이 설치되어 있어야만 작동하는 경우가 있습니다. 가령 예를 들어 a라는 패키지는 b라는 패키지를 사용하여 만들어졌다고 가정했을 때, a를 사용하기 위해서는 b도 필요한 것이죠. 그리고 만약 이 b라는 패키지가 c와 d 패키지로 만들어졌다면 a는 c와 d도 필요할 것입니다.

이러한 패키지의 의존성을 기록하고 관리하기 위해 필요한 것입니다.

### Dependency hell

그럼 어쩌다가 npm과 yarn은 dependency hell 의존성 문제라는 것이 발생하게 된 것일까요?

![](https://velog.velcdn.com/images/kbm940526/post/d2137d33-44f1-49cf-a832-a5fafd12baf3/image.png)

위 그림에서 각 각의 화살표는 의존성을 나타낸다고 합시다.
어떠한 문제점이 보이시나요?
중복이 이루어 진다는 것이죠. 하지만 이 문제는 용량을 제외하면 프로그램을 구동하는데 크게 문제가 되지 않습니다.

![](https://velog.velcdn.com/images/kbm940526/post/e8cbc24f-9f28-432d-b952-66126e92018e/image.png)
그럼 서로 다른 버전이 생긴다면 어떻게 될까요?
npm과 yarn은 플랫한 구조를 가지기 때문에 설치 순서에 따라 의존성 구조가 달라지는 문제가 발생합니다. 이렇다보면 의존성이 꼬여버려 의존성 지옥 즉 Dependency hell이 발생하게 되는 것이죠

### Phantom Dependency

또한, 유령 의존성이라는 문제점도 가지고 있습니다.

예를 들어 저는 프로젝트에 ballGame이라는 라이브러리를 설치하였습니다.

```js
  "dependencies": {
	footballGame: "1.1.1"
  },
```

그리고 이 것을 app.js에서 사용하려합니다.

```js
const footballGame = require("footballGame");
const rule = require("rule");
const ball = require("ball");
```

자 여기서 오류가 나야 정상입니다.
하지만, 실제로는 100% 오류가 난다고 할 수 없습니다.
왜냐면 유령 의존성때문입니다. package.json에 명시되어 있지 않은 footballGame의 의존성에 있는 패키지를 가져다 사용하기 때문입니다.
이는 버전이 명확하지 않기 때문에 내가 아닌 다른 사용자에게 버전 호환 오류를 발생시킵니다.

## PNPM
